{% extends 'base_dashboard.html' %}
{% load static %}

{% block title %}{{ quiz.title }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/quizzes.css' %}?v=1.0">
{% endblock %}

{% block header %}
{% url 'quizzes:quiz_list' as quizzes_url %}
{% include 'components/page_header.html' with page_title='Quiz Detail' back_url=quizzes_url show_moderate_btn=False %}
{% endblock %}

{% block content %}
<div class="container-fluid p-4">
    {% include 'components/quizzes/detail_card.html' with quiz=quiz is_bookmarked=is_bookmarked has_attempted=has_attempted best_attempt=best_attempt %}
</div>
{% endblock %}

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Handle quiz delete button
    document.querySelectorAll('button[data-quiz-id][data-delete-url]').forEach(btn => {
      btn.addEventListener('click', function() {
        const quizId = this.getAttribute('data-quiz-id');
        const quizTitle = this.getAttribute('data-quiz-title');
        const deleteUrl = this.getAttribute('data-delete-url');
        showDeleteModal(quizId, quizTitle, deleteUrl);
      });
    });
  });
</script>
{% endblock %}