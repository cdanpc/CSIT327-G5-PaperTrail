{% load static %}
<aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <div class="sidebar-logo" id="sidebarLogo">
            <i class="fas fa-scroll logo-icon"></i>
            <img src="{% static 'svgs/sidekickicons--sidebar-left-20-solid.svg' %}" alt="Toggle" class="toggle-icon">
            <span class="sidebar-logo-text">PaperTrail</span>
        </div>
        <button class="sidebar-toggle" id="sidebarToggle" aria-label="Close sidebar">
            <img src="{% static 'svgs/sidekickicons--sidebar-left-20-solid.svg' %}" alt="Close" class="toggle-close-icon">
        </button>
    </div>

    <nav class="sidebar-nav">
        <ul class="nav-list">
            <li class="nav-item">
                {% if request.user.is_staff or request.user.is_superuser %}
                    <a href="{% url 'accounts:admin_dashboard' %}" class="nav-link {% if request.resolver_match.url_name == 'admin_dashboard' %}active{% endif %}" title="Dashboard">
                        <i class="fas fa-home"></i>
                        <span class="nav-text">Dashboard</span>
                    </a>
                {% elif request.user.is_professor %}
                    <a href="{% url 'accounts:professor_dashboard' %}" class="nav-link {% if request.resolver_match.url_name == 'professor_dashboard' %}active{% endif %}" title="Dashboard">
                        <i class="fas fa-home"></i>
                        <span class="nav-text">Dashboard</span>
                    </a>
                {% else %}
                    <a href="{% url 'accounts:student_dashboard' %}" class="nav-link {% if request.resolver_match.url_name == 'student_dashboard' %}active{% endif %}" title="Dashboard">
                        <i class="fas fa-home"></i>
                        <span class="nav-text">Dashboard</span>
                    </a>
                {% endif %}
            </li>
                        {% if request.user.is_staff or request.user.is_superuser or request.user.is_professor %}
                        <li class="nav-item">
                            <a href="{% url 'resources:moderation_list' %}" class="nav-link {% if request.resolver_match.url_name == 'moderation_list' %}active{% endif %}" title="Verify Content">
                                <i class="fas fa-check-circle"></i>
                                <span class="nav-text">Verify Content</span>
                            </a>
                        </li>
                        {% endif %}
            <li class="nav-item">
                <a href="{% url 'resources:resource_list' %}" class="nav-link {% if request.resolver_match.url_name == 'resource_list' %}active{% endif %}" title="Resources">
                    <i class="fas fa-book"></i>
                    <span class="nav-text">Resources</span>
                </a>
            </li>
            
            <li class="nav-item">
                <a href="{% url 'flashcards:deck_list' %}" class="nav-link {% if 'flashcards' in request.path %}active{% endif %}" title="Flashcards">
                    <i class="fas fa-layer-group"></i>
                    <span class="nav-text">Flashcards</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="{% url 'quizzes:quiz_list' %}" class="nav-link {% if 'quizzes' in request.path %}active{% endif %}" title="Quizzes">
                    <i class="fas fa-clipboard-check"></i>
                    <span class="nav-text">Quizzes</span>
                </a>
            </li>
           <li class="nav-item">
                <a href="{% url 'bookmarks:bookmark_list' %}" class="nav-link {% if 'bookmarks' in request.path %}active{% endif %}" title="Bookmarks">
                    <i class="fas fa-star"></i>
                    <span class="nav-text">Bookmarks</span>
                </a>
            </li>
        </ul>

        <div class="sidebar-divider"></div>

    </nav>

    <div class="sidebar-footer">
        <div class="sidebar-footer-actions d-flex flex-column gap-2">
            <a href="{% url 'accounts:settings' %}" class="nav-link sidebar-footer-link d-flex align-items-center">
                <i class="fas fa-cog me-2"></i>
                <span>Settings</span>
            </a>
            <a href="{% url 'accounts:logout' %}" class="nav-link sidebar-footer-link d-flex align-items-center text-danger">
                <i class="fas fa-sign-out-alt me-2"></i>
                <span>Sign out</span>
            </a>
        </div>
    </div>
</aside>

<div class="sidebar-overlay" id="sidebarOverlay"></div>