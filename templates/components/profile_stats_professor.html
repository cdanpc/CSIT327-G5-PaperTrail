{% comment %}
Professor Profile Stats Component
Displays teaching impact, resources created, and student engagement metrics
{% endcomment %}

<div class="profile-card profile-stats-card">
    <div class="profile-card-header">
        <h3 class="profile-card-title">
            <i class="fas fa-chalkboard-teacher"></i> Teaching Impact
        </h3>
    </div>
    
    <div class="profile-card-body">
        <!-- Teaching Stats Grid -->
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-icon stat-icon--primary">
                    <i class="fas fa-file-upload"></i>
                </div>
                <div class="stat-content">
                    <span class="stat-value">{{ stats.resources_uploaded|default:0 }}</span>
                    <span class="stat-label">Resources Created</span>
                </div>
            </div>
            
            <div class="stat-item">
                <div class="stat-icon stat-icon--success">
                    <i class="fas fa-question-circle"></i>
                </div>
                <div class="stat-content">
                    <span class="stat-value">{{ stats.quizzes_created|default:0 }}</span>
                    <span class="stat-label">Quizzes Created</span>
                </div>
            </div>
            
            <div class="stat-item">
                <div class="stat-icon stat-icon--warning">
                    <i class="fas fa-layer-group"></i>
                </div>
                <div class="stat-content">
                    <span class="stat-value">{{ stats.flashcards_created|default:0 }}</span>
                    <span class="stat-label">Flashcards Created</span>
                </div>
            </div>
            
            <div class="stat-item">
                <div class="stat-icon stat-icon--info">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                    <span class="stat-value">{{ stats.students_helped|default:0 }}</span>
                    <span class="stat-label">Students Reached</span>
                </div>
            </div>
        </div>
        
        <!-- Engagement Metrics -->
        <div class="engagement-section">
            <h4 class="section-subtitle">Engagement Metrics</h4>
            <div class="engagement-stats">
                <div class="engagement-item">
                    <span class="engagement-label">
                        <i class="fas fa-star"></i> Average Rating
                    </span>
                    <span class="engagement-value">{{ stats.average_rating|default:"N/A" }}</span>
                </div>
                <div class="engagement-item">
                    <span class="engagement-label">
                        <i class="fas fa-comment"></i> Total Comments
                    </span>
                    <span class="engagement-value">{{ stats.total_comments|default:0 }}</span>
                </div>
                <div class="engagement-item">
                    <span class="engagement-label">
                        <i class="fas fa-heart"></i> Total Likes
                    </span>
                    <span class="engagement-value">{{ stats.total_likes|default:0 }}</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Recent Contributions (Professors) -->
<div class="profile-card contributions-card">
    <div class="profile-card-header">
        <h3 class="profile-card-title">
            <i class="fas fa-history"></i> Recent Contributions
        </h3>
        <a href="{% url 'resources:my_resources' %}" class="view-all-link">
            View All <i class="fas fa-arrow-right"></i>
        </a>
    </div>
    
    <div class="profile-card-body">
        {% if user_resources %}
        <div class="contributions-list">
            {% for resource in user_resources|slice:":5" %}
            <div class="contribution-item">
                <div class="contribution-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <div class="contribution-content">
                    <a href="{% url 'resources:resource_detail' resource.id %}" class="contribution-title">
                        {{ resource.title }}
                    </a>
                    <span class="contribution-meta">
                        {{ resource.created_at|timesince }} ago
                        {% if resource.like_count %}
                        â€¢ {{ resource.like_count }} like{{ resource.like_count|pluralize }}
                        {% endif %}
                    </span>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p class="empty-state">No contributions yet. Start creating resources!</p>
        {% endif %}
    </div>
</div>
