{% extends 'base_auth.html' %}
{% load static %}

{% block title %}Password Reset Complete{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/login_new.css' %}">
<style>
    .success-message {
        text-align: center;
        padding: 1rem 0;
    }
    
    .success-icon {
        width: 90px;
        height: 90px;
        background: linear-gradient(135deg, #48bb78, #38a169);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        box-shadow: 0 4px 12px rgba(72, 187, 120, 0.3);
        animation: scaleIn 0.5s ease-out;
    }
    
    .success-icon i {
        color: white;
        font-size: 2.75rem;
    }
    
    @keyframes scaleIn {
        from {
            transform: scale(0);
            opacity: 0;
        }
        to {
            transform: scale(1);
            opacity: 1;
        }
    }
    
    .success-message h3 {
        color: #2d3748;
        margin-bottom: 1rem;
        font-size: 1.75rem;
        font-weight: 700;
    }
    
    .success-message p {
        color: #718096;
        line-height: 1.6;
        margin-bottom: 1rem;
        font-size: 1rem;
    }
    
    .countdown {
        font-size: 0.9rem;
        color: #a0aec0;
        margin-top: 1rem;
    }
</style>
{% endblock %}

{% block icon %}check-circle{% endblock %}
{% block page_title %}Password Reset Successful!{% endblock %}
{% block page_subtitle %}Your password has been changed successfully{% endblock %}

{% block content %}
<div class="success-message">
    <div class="success-icon">
        <i class="fas fa-check"></i>
    </div>
    
    <h3>All Set!</h3>
    
    <p>
        Your password has been successfully reset. You can now log in with your new password.
    </p>
    
    <p style="color: #a0aec0; font-size: 0.9rem;">
        Make sure to keep your password secure and don't share it with anyone.
    </p>
    
    <button type="button" class="submit-btn" style="margin-top: 1.5rem;" id="goToLoginBtn">
        <i class="fas fa-sign-in-alt"></i> Go to Login
    </button>
    
    <p class="countdown">
        <i class="fas fa-clock"></i> Redirecting to login in <span id="countdown">5</span> seconds...
    </p>
    
    <div class="register-link" style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #e2e8f0;">
        <i class="fas fa-shield-alt"></i> Your account is secure
    </div>
</div>

<!-- Back to Home -->
<div class="back-link">
    <a href="{% url 'home' %}">
        <i class="fas fa-arrow-left"></i> Back to Home
    </a>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Countdown timer and button handler
    let seconds = 5;
    const countdownElement = document.getElementById('countdown');
    const loginUrl = "{% url 'accounts:login' %}";
    
    // Go to login button
    document.getElementById('goToLoginBtn').addEventListener('click', function() {
        window.location.href = loginUrl;
    });
    
    const countdown = setInterval(function() {
        seconds--;
        countdownElement.textContent = seconds;
        
        if (seconds <= 0) {
            clearInterval(countdown);
            window.location.href = loginUrl;
        }
    }, 1000);
</script>
{% endblock %}
